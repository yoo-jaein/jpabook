# jpabook - 스프링 JPA 실습 프로젝트

## 📘 참고자료

- [자바 ORM 표준 JPA 프로그래밍](https://book.naver.com/bookdb/book_detail.nhn?bid=9252528)
- [예제 파일](https://github.com/holyeye/jpabook)

## 🧸 목표
1. 쇼핑몰 홈페이지에 필요한 도메인 모델을 구성해본다.
2. JPA를 이용하여 객체와 테이블을 매핑한다.

## 🔥 진행 상황
- [X] 04장 엔티티 매핑  

+ 회원, 주문, 상품, 주문상품 엔티티를 도출  
  + 회원(MEMBER): 이름(NAME)과 주소 정보를 가진다. 주소는 CITY, STREET, ZIPCODE로 표현한다.  
  + 주문(ORDERS): 상품을 주문한 회원(MEMBER_ID)을 외래 키로 가진다. 주문 날짜(ORDERDATE)와 주문 상태(STATUS)를 가진다. 주문 상태는 ORDER과 CANCEL로 구분한다.  
  + 주문상품(ORDER_ITEM): 주문(ORDER_ID)과 주문한 상품(ITEM_ID)을 외래 키로 가진다. 주문 금액(ORDERPRICE), 주문 수량(COUNT) 정보를 가진다.  
  + 상품(ITEM): 이름(NAME), 가격(PRICE), 재고수량(STOCKQUANTITY)을 가진다. 상품을 주문하면 재고수량이 줄어든다.  

- [X] 05장 연관관계 매핑 기초  

+ 객체 관계는 외래 키를 직접 사용하는 것에서 참조를 사용하도록 변경했다.  

+ 회원과 주문은 일대다 관계고 그 반대는 다대일 관계다.  
  이런 양방향 연관관계에서는 연관관계의 주인을 설정해야 하며 여기에서 외래 키가 있는 Order.member가 주인이다.  
  또한, Order 엔티티에 setMember()라는 연관관계 편의 메소드를 추가했다.  

+ 주문과 주문상품은 일대다 관계고 그 반대는 다대일 관계다.  
  상품에서 주문상품을 참조할 일은 거의 없으므로 주문상품과 상품은 다대일 단방향 관계로 설정했다.  
  즉 OrderItem -> Item 방향으로 참조하는 OrderItem.item 필드만 사용한다.  

- [X] 06장 다양한 연관관계 매핑  

+ 요구사항 추가  
  + 상품을 주문할 때 배송 정보를 입력할 수 있다. 주문과 배송은 일대일 관계다.  
  + 상품을 카테고리로 구분할 수 있다.  
   
+ 주문 Order와 배송 Delivery는 일대일 관계고 그 반대도 일대일 관계다.  
  양방향 연관관계이기 때문에 연관관계의 주인을 Order.delivery로 설정했다.  
  
+ 카테고리 Category와 상품 Item은 다대다 관계고 그 반대도 다대다 관계다.  
  @ManyToMany와 @JoinTable을 사용해서 연결 테이블을 바로 매핑했다.  
  하지만 이런 방식은 연결 테이블에 필드가 추가되면 더는 사용할 수 없으므로 실무에서 활용하기에는 무리가 있다.  
  따라서 다대다 관계를 일대다, 다대일 관계로 풀어서 매핑하는 것이 좋다.  
  
- [ ] 07장 고급 매핑
- [ ] 08장 프록시와 연관관계 관리
- [ ] 09장 값 타입
